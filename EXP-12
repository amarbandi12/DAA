#include <stdio.h>

int robLinear(int nums[], int start, int end, int *lastRobbed) {
    int prev1 = 0, prev2 = 0;
    int chosen[end - start + 2];
    int idx = 0;

    for (int i = start; i <= end; i++) {
        int pick = nums[i] + prev2;
        int skip = prev1;

        if (pick > skip) {
            chosen[idx++] = i; 
            int temp = prev1;
            prev1 = pick;
            prev2 = temp;
        } else {
            prev2 = prev1;
        }
    }
    if (idx > 0) *lastRobbed = chosen[idx - 1];
    else *lastRobbed = -1;

    return prev1;
}

int main() {
    int n;
    printf("Enter number of houses: ");
    scanf("%d", &n);

    int nums[n];
    printf("Enter money in each house:\n");
    for (int i = 0; i < n; i++)
        scanf("%d", &nums[i]);

    if (n == 1) {
        printf("The maximum money you can rob without alerting the police is %d (robbing house 1).\n", nums[0]);
        return 0;
    }

    int last1, last2;
    int money1 = robLinear(nums, 0, n - 2, &last1);
    int money2 = robLinear(nums, 1, n - 1, &last2);

    if (money1 >= money2) {
        printf("The maximum money you can rob without alerting the police is %d (robbing house %d).\n",
               money1, last1 + 1);
    } else {
        printf("The maximum money you can rob without alerting the police is %d (robbing house %d).\n",
               money2, last2 + 1);
    }
    return 0;
}
